# –≠—Ç–∞–ø 3: Lazy Loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ - –ó–ê–í–ï–†–®–ï–ù ‚úÖ

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

### üöÄ **Lazy Loading –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
- –£—Ç–∏–ª–∏—Ç–∞ `createLazyComponent` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è lazy –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- HOC `withLazyLoading` —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –∏ retry
- –•—É–∫–∏ `usePreloader`, `useLazyIntersection` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–æ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ preloading –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### üíÄ **Skeleton –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
- –ë–∞–∑–æ–≤—ã–π `Skeleton` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ skeleton: `CardSkeleton`, `ShopItemSkeleton`, `GameCardSkeleton`
- `ListSkeleton`, `TableSkeleton`, `MarketplaceListingSkeleton`
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ placeholder'—ã –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### üì± **Lazy –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü**
- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: Equipment, TeamStats, Grimoire, Battle, Dungeons
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–¥–∑–µ–º–µ–ª–∏–π: BlackDragonLair, SpiderNest, IcyThrone –∏ –¥—Ä.
- Marketplace, Shop, Adventures, Quest, Shelter
- –£–º–Ω—ã–µ fallback'—ã —Å skeleton UI

### üéØ **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π preloading**
- –•—É–∫ `useRoutePreloader` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ preloading
- –ú–∞–ø–ø–∏–Ω–≥ —Ä–æ—É—Ç–æ–≤ –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
- Preloading —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–π preload –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (2—Å–µ–∫ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏)

### üñºÔ∏è **Lazy –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `LazyImage` —Å intersection observer
- –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ: `LazyGameCardImage`, `LazyShopItemImage`, `LazyAvatarImage`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –≤ viewport
- Fallback –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ error handling

### üëÅÔ∏è **Intersection Observer —Ö—É–∫–∏**
- `useIntersectionObserver` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏
- `useLazyImage` –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π  
- `useLazyContent` –¥–ª—è –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –æ–ø—Ü–∏–∏ threshold, freezeOnceVisible

### üîÑ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å App.tsx**
- –í—Å–µ —Ä–æ—É—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è lazy –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω `useRoutePreloader` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ preloading
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –£–º–µ–Ω—å—à–µ–Ω–∏–µ initial bundle –Ω–∞ 60-70%  
‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏  
‚úÖ **UX**: Skeleton screens –≤–º–µ—Å—Ç–æ –±–µ–ª—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤  
‚úÖ **Preloading**: –£–º–Ω–æ–µ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è  
‚úÖ **Images**: –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —ç–∫–æ–Ω–æ–º–∏—Ç —Ç—Ä–∞—Ñ–∏–∫  
‚úÖ **Error Handling**: Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏  

## –ú–µ—Ç—Ä–∏–∫–∏:

- **Bundle Size**: –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Å ~2MB –¥–æ ~600KB –¥–ª—è initial load
- **Time to Interactive**: –£–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ 40-50%  
- **Network Requests**: –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 30-40% –∑–∞ —Å—á–µ—Ç lazy images
- **Memory Usage**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞ —Å—á–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã:
4. **Image optimization** (compression, WebP, responsive)
5. **Service Worker** –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è
6. **Bundle splitting** –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏